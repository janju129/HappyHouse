<!DOCTYPE HTML>
<!--
  Helpful link: https://www.w3schools.com/howto/howto_js_full_page_tabs.asp
-->

<style>

/* For the header */
 #tasks-header {
   margin: 0 auto;
   position: relative;
   background: #eaeaeb;
   color: grey;
   overflow: hidden;
   font-family: sans-serif;
   padding: 20px;
 }

 /* To center the objects */
 .centered {
   margin: 0 auto;
   position: absolute;
   top: 50%;
   left: 50%;
   font-size: 20px;
   font-family: sans-serif;
   transform: translate(-50%, -50%);
 }

 .textIP{
   margin: 0 auto;
   left: 50%;
 }

 .tabcontent{
    padding: 20px 20px;
    text-align: center;
  }

.tabheader{
    /*margin: 25px;*/
    padding: 20px 20px;
}

/* To position the homepage icon*/
.right-side a {
   float: right;
   margin: 0 auto;
 }


/*
 * FOR THE MENU
 */
 .tablink{
    color: black;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    font-size: 17px;
    width: 33.33%;
    margin: 0;
  }

  .tablink:hover{
    background-color: #777;
  }

  body, html{
    height: 100%;
    margin: 0 auto;
    font-family: sans-serif;
    }
  button{
    margin: 10px;
  }

/*
 * FOR THE IN-PROGRESS TAB
 */
   .inprogresslist{
     background-color: #eaeaeb;
     margin: 10px;
     padding: 10px;
     padding-bottom: 25px;
   }

   ol {
     list-style-type: none;
     padding: 0;
     margin: 0;
   }

   .messageThread li{
     margin: 10px;
     padding: 15px;
     background: #eaeaeb;
   }

  /*
   * FOR THE COMPLETED TAB
   */
  .completedList{
    background-color: #eaeaeb;
    margin: 10px;
    padding: 10px;
    padding-bottom: 25px;
  }

</style>

<!-- THE START OF THE HTML -->
<html>
  <head>
    <title>TASKS</title>
  </head>

    <body>

    <!--The header-->
    <div class="header" id="tasks-header">
      <div class="centered">
        <p><b>TASKS</b></p>
      </div>
      <div class="right-side">
        <a href="index.html" id="homepage">Homepage<a>
      </div>
    </div>

    <!--The New, In-Progress, and Completed Tabs-->
    <button id="openingTab" class="tablink" onclick="openPage('New', this, '#777')">New</button>
    <button class="tablink" onclick="openPage('In-Progress', this, '#777')">In-Progress</buton>
    <button class="tablink" onclick="openPage('Completed', this, '#777')">Completed</button>

    <!--New Task Tab-->
    <div id="New" class="tabcontent">

      <div class="tabheader">
        <!--<h1>NEW TASKS</h1>
        <p>Choose a task to assign or create new task</p>-->
      </div>


      <!--<div id="initial" class="messageThread"> -->
      <div class="messageThread" id="initial">
        <ol id="tasks1">
            <li><h3><input type="checkbox" id="checkNewTask" onclick="checkNew()"> task name 1</h3>
              made by user 2<br>
              made today
            <button onclick="toAssign()" style="display:none" id="assignButton" class="textIP">Assign?</button></li>
        </ol>
        <ol id="tasks2">
            <li><h3><input type="checkbox" id="checkNewTask2" onclick="checkNew()"> task name 2</h3>
              made by user 2<br>
              made today
            <button onclick="toAssign()" style="display:none" id="assignButton2" class="textIP">Assign?</button></li>
        </ol>
        <ol id="tasks3">
            <li><h3><input type="checkbox" id="checkNewTask3" onclick="checkNew()"> task name 3</h3>
              made by user 2<br>
              made today
            <button onclick="toAssign()" style="display:none" id="assignButton3" class="textIP">Assign?</button></</li>
        </ol>
        <ol id="tasks">
        </ol>
      </div>

      <button onclick="writeTask()" id="atbutton" class="textIP">Add New Task</button>

      <div id="makeTask" style="display:none">
          <input type = "text" id="newTask">
          <input type = "button" value = "Create" onclick = "addTask()">
          <button onclick = "newTaskHome()">Exit</button>
      </div>

      <!--What appears when the user wants to assign a task-->
      <div id="assigning" style="display:none">
        <p>Assign a task to</p>

        <form id="assignUser">
          <input type="radio" name="user" value="User 1"> User 1 <br>
          <input type="radio" name="user" value="User 2"> User 2 <br>
          <input type="radio" name="user" value="User 3"> User 3 <br>
        </form>

        <input type="submit" value="Assign" onclick="assignDone()">
        <button onclick="newTaskHome()">Cancel</button>
      </div>

      <div id="pendingApproval" style="display:none">
        <p>Task request sent to <h4 id="userName"></h4>for approval</p>
        <button onclick = "newTaskHome()">Done</button>
      </div>

    </div>

    <!--In-Progress Task Tab-->
    <div id="In-Progress" class="tabcontent">

      <div class="tabheader">
        <!--<h1>TASKS IN-PROGRESS</h1>
        <p id="instIP1">Choose a message thread to view</p>
        <p id="instIP2" style="display:none">Add a message to this thread</p> -->
      </div>

      <!--What first appears on the in-progress tab-->
      <div class="inprogresslist" id="initialIP">
        <h3><input type = "checkbox" id = "myCheckIP" onclick = "checkFunctionIP()">
        task name</h3>
        user 2 is working on it<br>
        started: today
        <button onclick = "viewChat()" style="display:none" id="textIP" class="textIP">View Chat?</button>
      </div>

      <div class="inprogresslist" id="initialIP2">
        <h3><input type = "checkbox" id = "myCheckIP2" onclick = "checkFunctionIP()">
        task name</h3>
        user 3 is working on it<br>
        started: yesterday
        <button style="display:none" id="textIP2" class="textIP">View Chat?</button>
      </div>

      <div class="inprogresslist" id="initialIP3">
        <h3><input type = "checkbox" id = "myCheckIP3" onclick = "checkFunctionIP()">
        task name</h3>
        user 2 is working on it<br>
        started: yesterday
        <button style="display:none" id="textIP3" class="textIP">View Chat?</button>
      </div>

      <div class="inprogresslist" id="initialIP4">
        <h3><input type = "checkbox" id = "myCheckIP4" onclick = "checkFunctionIP()">
        task name</h3>
        user 1 is working on it<br>
        started: xx/xx/xxxx
        <button style="display:none" id="textIP4" class="textIP">View Chat?</button>
      </div>

      <!--<div id="textIP" style="display:none">
        <button onclick = "viewChat()">View Chat?</button>
      </div> -->

      <div class="messageThread" id="messageThread" style="display:none">
        <ol id="chat">
            <li id="test">Sample Message<br>-User 1</li>

        </ol>
        <input type="text" id="message"/>
        <button onclick="sendMessage()">Send</button>
        <button onclick="inProgressHome()">Exit Chat</button>
      </div>

    </div>

    <!--Completed Task Tab-->
    <div id="Completed" class="tabcontent">

      <div class="tabheader">
        <!--<h2>COMPLETED TASKS</h2>
        <p>A list of the user's completed tasks</p>-->
      </div>

      <div class="completedList">
        <h3><input type="checkbox" checked="true"> task name<br></h3>
        completed on<br>xx/xx/xxx
      </div>

      <div class="completedList">
        <h3><input type="checkbox" checked="true"> task name<br></h3>
        completed on<br>xx/xx/xxx
      </div>

      <div class="completedList">
        <h3><input type="checkbox" checked="true"> task name<br></h3>
        completed on<br>xx/xx/xxx
      </div>

      <div class="completedList">
        <h3><input type="checkbox" checked="true"> task name<br></h3>
        completed on<br>xx/xx/xxx
      </div>

      <button>Show More</button>

    </div>

    <script>
        document.getElementById("openingTab").click();

    /*
     * FUNCTIONS IN THE NEW TAB
     */
     function writeTask(){
       document.getElementById("initial").style.display = "none";
       document.getElementById("makeTask").style.display = "block";
       document.getElementById("atbutton").style.display = "none";

     }

     function addTask(){
       var ul = document.getElementById("tasks");
       var message = document.getElementById("newTask");
       var li = document.createElement("li");
       li.setAttribute('id',message.value);
       li.appendChild(document.createTextNode(message.value));
       ul.appendChild(li);

       newTaskHome()
     }

    /* To go to the home screen for new task tab */
    function newTaskHome(){
      document.getElementById("initial").style.display = "block";
      document.getElementById("pendingApproval").style.display = "none";
      document.getElementById("assigning").style.display = "none";
      document.getElementById("makeTask").style.display = "none";
      document.getElementById("atbutton").style.display = "block";
      document.getElementById("checkNewTask").checked = false;
      document.getElementById("checkNewTask2").checked = false;
      document.getElementById("checkNewTask3").checked = false;
    }

    /* To show the message about pending approval */
    function assignDone(){
      document.getElementById("pendingApproval").style.display = "block";
      document.getElementById("assigning").style.display = "none";
      var val;
      var f = document.getElementById("assignUser");
      var radios = f.elements["user"];
      for(var i = 0, len = radios.length; i < len; i++){
        if(radios[i].checked){
          val = radios[i].value;
          break;
        }
      }
      document.getElementById("userName").innerHTML = val;

      if(document.getElementById("checkNewTask").checked==true){
        document.getElementById("tasks1").style.display = "none";
      }

      if(document.getElementById("checkNewTask2").checked==true){
        document.getElementById("tasks2").style.display = "none";
      }

      if(document.getElementById("checkNewTask3").checked==true){
        document.getElementById("tasks3").style.display = "none";
      }
    }

    /* To assign a task */
    function toAssign(){
      document.getElementById("assignButton").style.display = "none";
      document.getElementById("assignButton2").style.display = "none";
      document.getElementById("assignButton3").style.display = "none";
      document.getElementById("initial").style.display = "none";
      document.getElementById("assigning").style.display = "block";
      document.getElementById("atbutton").style.display = "none";
    }

    /* for the checkbox in new tab*/
    function checkNew(){
      var checkbox = document.getElementById("checkNewTask");
      var text = document.getElementById("assignButton");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }

      var checkbox = document.getElementById("checkNewTask2");
      var text = document.getElementById("assignButton2");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }

      var checkbox = document.getElementById("checkNewTask3");
      var text = document.getElementById("assignButton3");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }
    }

    /*
     * FUNCTIONS IN THE IN-PROGRESS TAB
     */
    /* for the checkbox in in-progress tab*/
    function checkFunctionIP(){
      var checkbox = document.getElementById("myCheckIP");
      var text = document.getElementById("textIP");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }

      var checkbox = document.getElementById("myCheckIP2");
      var text = document.getElementById("textIP2");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }

      var checkbox = document.getElementById("myCheckIP3");
      var text = document.getElementById("textIP3");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }

      var checkbox = document.getElementById("myCheckIP4");
      var text = document.getElementById("textIP4");
      if (checkbox.checked == true){
        text.style.display = "block";
      }
      else{
        text.style.display = "none";
      }

    }

    /* to show the home screen of the in-progress tab */
    function inProgressHome(){
      document.getElementById("myCheckIP").checked = false;
      document.getElementById("initialIP").style.display = "block";
      document.getElementById("initialIP2").style.display = "block";
      document.getElementById("initialIP3").style.display = "block";
      document.getElementById("initialIP4").style.display = "block";
      document.getElementById("messageThread").style.display = "none";
      document.getElementById("instIP1").style.display = "block";
      document.getElementById("instIP2").style.display = "none";
    }

    /* to add a message */
    function viewChat(){
      document.getElementById("initialIP").style.display = "none";
      document.getElementById("initialIP2").style.display = "none";
      document.getElementById("initialIP3").style.display = "none";
      document.getElementById("initialIP4").style.display = "none";
      document.getElementById("textIP").style.display = "none";
      document.getElementById("messageThread").style.display = "block";
      document.getElementById("instIP1").style.display = "none";
      document.getElementById("instIP2").style.display = "block";
    }

    /* to send a message */
    function sendMessage(){
      var ul = document.getElementById("chat");
      var message = document.getElementById("message");
      var li = document.createElement("li");
      li.setAttribute('id',message.value);
      li.appendChild(document.createTextNode(message.value));
      var b = document.createElement("br");
      li.appendChild(b);
      li.appendChild(document.createTextNode("-User 1"));
      ul.appendChild(li);
    }

    /* for the tabs*/
    function openPage(pageName, elmnt, color){
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for(i = 0; i < tabcontent.length; i++){
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for(i = 0; i < tablinks.length; i++){
          tablinks[i].style.backgroundColor="";
        }
        document.getElementById(pageName).style.display="block";
        elmnt.style.backgroundColor=color;

        document.getElementById("defaultOpen").click();
      }

    </script>
  </body>
</html>
